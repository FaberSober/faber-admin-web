<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.faber.admin.mapper.UserMapper">

    <select id="selectGroupUser" parameterType="map" resultType="com.faber.admin.vo.GroupUserVo">
        SELECT t.id, t.group_id, t.type, t.description, t.user_id, u.`name`, u.username, u.birthday, u.address, u.mobile_phone, u.tel_phone, u.email, u.sex
          FROM base_group_user t
          LEFT JOIN base_user u ON t.user_id = u.id
         WHERE 1 = 1
           AND t.group_id = #{groupId}
        <if test="name != null and name != ''">
           AND u.`name` LIKE concat('%', #{name}, '%')
        </if>
    </select>
</mapper>
